# AT-3: Первичный анализ

## Дата анализа
2025-11-27

## Понимание задачи

### Что нужно сделать
Исправить ошибку `400 Bad Request` при инициализации `aa-cli`. Ошибка возникает при запросе проектов воркспейса.

### Ожидаемый результат
Команда `aa init` должна успешно получать список проектов без ошибок.

### Критерии успеха
- `aa init` не падает с ошибкой 400.
- Список проектов корректно загружается.

## Технический анализ

### Затрагиваемые компоненты
- `aa/core/asana_client.py`: Метод `get_projects`.

### Причина ошибки
Вероятно, эндпоинт `GET /workspaces/{gid}/projects` имеет проблемы с параметром `opt_fields` или `archived`.
Рекомендуемый способ получения проектов - `GET /projects?workspace={gid}`.

## Предварительный план реализации

### Этап 1: Исправление API вызова
- Изменить `get_projects` на использование `GET /projects`.
- Добавить фильтрацию `archived=false` на стороне сервера.

### Этап 2: Тестирование
- Проверить через `aa init` (потребуется помощь пользователя для запуска).
